{"version":3,"sources":["src/scripts/utils.ts","src/scripts/DOMState.ts","src/scripts/DOMDisplay.ts","src/scripts/Game.ts","src/scripts/plans.ts","src/scripts/app.ts"],"names":[],"mappings":"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","file":"app.360348a8.js","sourceRoot":"..","sourcesContent":["const createElement = (el: string, attrs: string[][], ...childrens: HTMLElement[]): HTMLElement => {\n    const element = document.createElement(el);\n\n    attrs.forEach(([key, value]) => {\n        element.setAttribute(key, value);\n    });\n\n    childrens.forEach(children => {\n        element.appendChild(children);\n    });\n\n    return element;\n};\n\nconst nextStep = (matrix: number[][]): number[][] => {\n    return matrix.map((row: number[], y: number) => {\n        return row.map((cell: number, x: number) => {\n            const coordAllegedNeighbors: number[][] = [\n                [0, -1], [-1, 0],\n                [1, 0], [0, 1],\n                [-1, -1], [1, -1],\n                [-1, 1], [1, 1]\n            ];\n            const neighbors = coordAllegedNeighbors\n                .map(([ax, ay]) => {\n                    if (matrix[y + ay]) return matrix[y + ay][x + ax] || null;\n                })\n                .filter(neighbor => neighbor);\n            const countNeighbors = neighbors.length;\n            \n            if (countNeighbors === 3) return 1;\n            if (cell && (countNeighbors === 2 || countNeighbors === 3)) return 1;\n            if (countNeighbors < 2 || countNeighbors > 3) return 0;\n        });\n    });\n};\n\nexport default { createElement, nextStep };\n","import utils from './utils';\n\nconst { nextStep } = utils;\n\nclass DOMState {\n    parent: HTMLElement;\n\n    constructor(parent: HTMLElement) {\n        this.parent = parent;\n    }\n\n    getMatrixFromDomThree(dom: HTMLElement): number[][] {\n        const cellsMatrix = [...dom.children[0].children];\n    \n        return cellsMatrix.map(row => {\n            return [...row.children].map(cell => {\n                if (cell.classList.contains('live')) return 1;\n                return 0;\n            })\n        });\n    };\n\n    syncWidthDomThree(matrix: number[][]) {\n        matrix.forEach((row: number[], y: number) => {\n            row.forEach((cell: number, x: number) => {\n                const domMatrix = this.parent.children[0];\n\n                if (cell) {\n                    domMatrix.children[y].children[x].classList.add('live');\n                } else {\n                    domMatrix.children[y].children[x].classList.remove('live');\n                }\n            });\n        });\n    }\n\n    update(): void {\n        const matrix = this.getMatrixFromDomThree(this.parent);\n        const newMatrix = nextStep(matrix);\n        this.syncWidthDomThree(newMatrix);\n    }\n}\n\nexport default DOMState;\n","import DOMState from './DOMState';\nimport utils from './utils';\n\nconst { createElement } = utils;\n\nclass DOMDisplay {\n    parent: HTMLElement;\n\n    constructor(parent: HTMLElement) {\n        this.parent = parent;\n    }\n\n    addEvents(table: HTMLElement) {\n        table.addEventListener('click', event => {\n            const cell: HTMLElement = <HTMLElement>event.target;\n            cell.classList.toggle('live');\n        });\n    }\n\n    render(plan: number[][]) {\n        const sizeCell = this.parent.clientWidth / plan[0].length;\n        const table = createElement(\n            'table',\n            [\n                ['class', 'playground']\n            ],\n            ...plan.map(row => {\n                return createElement(\n                    'tr',\n                    [\n                        ['class', 'row']\n                    ],\n                    ...row.map(cell => {\n                        return createElement(\n                            'td',\n                            [\n                                ['class', `cell ${cell ? 'live' : ''}`],\n                                ['style', `width: ${sizeCell}px; height: ${sizeCell}px`]\n                            ]\n                        )\n                    })\n                )\n            })\n        );\n        this.parent.appendChild(table);\n        this.addEvents(table);\n    }\n\n    updateState(): void {\n        new DOMState(this.parent).update();\n    }\n}\n\nexport default DOMDisplay;\n","import DOMDisplay from './DOMDisplay';\n\nclass Game {\n    display: DOMDisplay;\n    isPlay: boolean;\n\n    constructor(display: DOMDisplay) {\n        this.display = display;\n        this.isPlay = true;\n    }\n\n    play(): void {\n        this.isPlay = true;\n        const interval: number = setInterval(() => {\n            if (!this.isPlay) clearInterval(interval);\n            this.display.updateState();\n        }, 500);\n    }\n\n    pause(): void {\n        this.isPlay = false;\n    }\n}\n\nexport default Game;\n","const simplePlan = [\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0],\n    [0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0],\n    [0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0],\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n];\n\nexport default { simplePlan };\n","import DOMDisplay from './DOMDisplay';\nimport Game from './Game';\nimport plans from './plans';\n\nconst display = new DOMDisplay(document.querySelector('.app'));\nconst game = new Game(display);\nconst play = document.getElementById('play');\nconst pause = document.getElementById('pause');\n\ndisplay.render(plans.simplePlan);\n\nplay.addEventListener('click', () => {\n    game.play();\n});\n\npause.addEventListener('click', () => {\n    game.pause();\n});\n"]}